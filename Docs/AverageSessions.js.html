<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: AverageSessions.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: AverageSessions.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useEffect, useState } from "react";
import { Area, AreaChart, ResponsiveContainer, Tooltip, XAxis } from "recharts";
import { getAverageSessionsByUserId } from "../../services/AverageSessionsService";
import { USER_ID } from "../../assets/data/id";
import CustomTooltipAverage from "./tooltip/CustomTooltipAverage";

const AverageSessions = () => {
	const [averageSessions, setAverageSessions] = useState(null);

	/**
	 * Format averageSessions changing day number by day letter
	 * @param {Array} averageSessions Sessions with day written with number
	 * @returns {Array} Sessions with day written with letter
	 */
	const transformNumberToDay = (averageSessions) => {
		return averageSessions.map((session) => {
			let day = "";
			switch (session.day) {
				case 1:
					day = "L";
					break;
				case 2:
					day = "M";
					break;
				case 3:
					day = "M";
					break;
				case 4:
					day = "J";
					break;
				case 5:
					day = "V";
					break;
				case 6:
					day = "S";
					break;
				case 7:
					day = "D";
					break;
				default:
					day = "";
			}
			session = {
				...session,
				day: day,
			};
			return session;
		});
	};

	useEffect(() => {
		getAverageSessionsByUserId(USER_ID[0].CLIENT_ID).then(function (response) {
			setAverageSessions(transformNumberToDay(response.data.sessions));
		});
	}, []);

	return (
		&lt;div className="averageSessions">
			&lt;p className="averageSessions__title">Durée moyenne des sessions&lt;/p>
			{averageSessions &amp;&amp; (
				&lt;ResponsiveContainer width="100%" height="100%">
					&lt;AreaChart
						width={250}
						height={250}
						data={averageSessions}
						margin={{
							top: 70,
							right: 0,
							left: 0,
							bottom: 15,
						}}
					>
						&lt;defs>
							&lt;linearGradient
								id="colorSessionLength"
								x1="0"
								y1="0"
								x2="0"
								y2="1"
							>
								&lt;stop offset="5%" stopColor="#FFFFFF" stopOpacity={0.3} />
								&lt;stop offset="90%" stopColor="#FFFFFF" stopOpacity={0.0} />
							&lt;/linearGradient>
						&lt;/defs>
						&lt;XAxis
							dataKey="day"
							axisLine={false}
							tickLine={false}
							tickMargin={10}
							padding={{ left: 10, right: 10 }}
						/>
						&lt;Tooltip content={&lt;CustomTooltipAverage />} />
						&lt;Area
							type="monotone"
							dataKey="sessionLength"
							stroke="#FFFFFF"
							fill="url(#colorSessionLength)"
							activeDot={{
								stroke: "white",
								strokeOpacity: 0.3,
								strokeWidth: 10,
							}}
						/>
					&lt;/AreaChart>
				&lt;/ResponsiveContainer>
			)}
		&lt;/div>
	);
};

export default AverageSessions;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Fri Jul 15 2022 16:48:01 GMT+0200 (heure d’été d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
